<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // callback hell example
      //   setTimeout(() => {
      //     console.log("user fetching...");
      //     setTimeout(() => {
      //       console.log("friends fetching...");
      //       setTimeout(() => {
      //         console.log("posts fetching...");
      //         setTimeout(() => {
      //           console.log("comments fetching...");
      //         }, 1000);
      //       }, 1000);
      //     }, 1000);
      //   }, 1000);

      // Promise definition
      const myPromise = new Promise((resolve, reject) => {
        const success = false; // Change to false to test rejection
        setTimeout(() => {
          if (success) {
            resolve("Promise resolved successfully!");
          } else {
            reject("Promise rejected.");
          }
        }, 1000);
      });
      myPromise
        .then((result) => {
          console.log(result);
        })
        .catch((error) => {
          console.log(error);
        });

      // .then with in .then example
      const promise = new Promise((resolve, reject) => {
        console.log("Promise is executing...");
        resolve("Promise resolved!");
      });
      promise
        .then((response) => {
          console.log(response);
          return "Data for next then";
        })
        .then((response) => {
          console.log(response);
        });

      // .then with in .catch example

      //   const promise = new Promise((resolve, reject) => {
      //     console.log("Promise is executing...");
      //     // resolve("Promise resolved!");
      //     setTimeout(() => {
      //       reject("Promise rejected!");
      //     }, 3000);
      //   });
      //   promise
      //     .then((response) => {
      //       console.log(response);
      //     })
      //     .catch((error) => {
      //       console.log(error);
      //     });

      //   try catch example
      const promise4 = new Promise((resolve, reject) => {
        console.log("Promise is executing...");
        // resolve("Promise resolved!");
        setTimeout(() => {
          reject("Promise rejected!");
        }, 3000);
      });
      try {
        const response = promise4;
        console.log(response);
      } catch (error) {
        console.log(error);
      }

      //   async await example
      const promise5 = new Promise((resolve, reject) => {
        console.log("Promise is executing...");
        // resolve("Promise resolved!");
        setTimeout(() => {
          reject("Promise rejected!");
        }, 3000);
      });

      async function fetchData() {
        try {
          const response = await promise5;
          console.log(response);
        } catch (error) {
          console.log(error);
        }
      }
      fetchData();
    </script>
  </body>
</html>
